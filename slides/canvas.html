<html>
<head>
<style>
            html {
                width: 100%;
                height: 100%;
                font-family: Helvetica;
            }

            body {
                width: 90%;
                margin: 0 auto;
            }

            section figure {
                float: left;
            }

            section article {
                width: 62%;
                float: right;
            }

            section {
                clear: both;
                border-bottom: 1px solid #666;
                margin: 50px 0;
                padding-bottom: 50px;
                overflow: hidden;
            }

            section.hide-canvas canvas {
                display: none;
            }

            section.hide-canvas article {
                width: 100%;
            }
            
            canvas {
                background: #ddd;
                border: solid 1px #aaa;
                box-shadow: 0px 2px 5px 3px #ccc;
            }

            .sourcetable {
                color: #444;
                font-family: 'Courier New', monospace;
                font-size: 18px;
                line-height: 30px;
                -moz-border-radius:2px;
                -webkit-border-radius:2px;
                border-radius:2px;
                max-width: 100%;
            }

            .sourcetable .linenos {
                color: #DFDFF0;
            }

            .sourcetable td {
                padding: 0 10px;
            }

            .sourcetable .hll { background-color: #ffffcc }
            .sourcetable  { background: #f8f8f8; }
            .sourcetable .c { color: #408080; font-style: italic } /* Comment */
            .sourcetable .err { border: 1px solid #FF0000 } /* Error */
            .sourcetable .k { color: #008000; font-weight: bold } /* Keyword */
            .sourcetable .o { color: #666666 } /* Operator */
            .sourcetable .cm { color: #408080; font-style: italic } /* Comment.Multiline */
            .sourcetable .cp { color: #BC7A00 } /* Comment.Preproc */
            .sourcetable .c1 { color: #408080; font-style: italic } /* Comment.Single */
            .sourcetable .cs { color: #408080; font-style: italic } /* Comment.Special */
            .sourcetable .gd { color: #A00000 } /* Generic.Deleted */
            .sourcetable .ge { font-style: italic } /* Generic.Emph */
            .sourcetable .gr { color: #FF0000 } /* Generic.Error */
            .sourcetable .gh { color: #000080; font-weight: bold } /* Generic.Heading */
            .sourcetable .gi { color: #00A000 } /* Generic.Inserted */
            .sourcetable .go { color: #808080 } /* Generic.Output */
            .sourcetable .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
            .sourcetable .gs { font-weight: bold } /* Generic.Strong */
            .sourcetable .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
            .sourcetable .gt { color: #0040D0 } /* Generic.Traceback */
            .sourcetable .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
            .sourcetable .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
            .sourcetable .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
            .sourcetable .kp { color: #008000 } /* Keyword.Pseudo */
            .sourcetable .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
            .sourcetable .kt { color: #B00040 } /* Keyword.Type */
            .sourcetable .m { color: #666666 } /* Literal.Number */
            .sourcetable .s { color: #BA2121 } /* Literal.String */
            .sourcetable .na { color: #7D9029 } /* Name.Attribute */
            .sourcetable .nb { color: #008000 } /* Name.Builtin */
            .sourcetable .nc { color: #0000FF; font-weight: bold } /* Name.Class */
            .sourcetable .no { color: #880000 } /* Name.Constant */
            .sourcetable .nd { color: #AA22FF } /* Name.Decorator */
            .sourcetable .ni { color: #999999; font-weight: bold } /* Name.Entity */
            .sourcetable .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
            .sourcetable .nf { color: #0000FF } /* Name.Function */
            .sourcetable .nl { color: #A0A000 } /* Name.Label */
            .sourcetable .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
            .sourcetable .nt { color: #008000; font-weight: bold } /* Name.Tag */
            .sourcetable .nv { color: #19177C } /* Name.Variable */
            .sourcetable .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
            .sourcetable .w { color: #bbbbbb } /* Text.Whitespace */
            .sourcetable .mf { color: #666666 } /* Literal.Number.Float */
            .sourcetable .mh { color: #666666 } /* Literal.Number.Hex */
            .sourcetable .mi { color: #666666 } /* Literal.Number.Integer */
            .sourcetable .mo { color: #666666 } /* Literal.Number.Oct */
            .sourcetable .sb { color: #BA2121 } /* Literal.String.Backtick */
            .sourcetable .sc { color: #BA2121 } /* Literal.String.Char */
            .sourcetable .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
            .sourcetable .s2 { color: #BA2121 } /* Literal.String.Double */
            .sourcetable .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
            .sourcetable .sh { color: #BA2121 } /* Literal.String.Heredoc */
            .sourcetable .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
            .sourcetable .sx { color: #008000 } /* Literal.String.Other */
            .sourcetable .sr { color: #BB6688 } /* Literal.String.Regex */
            .sourcetable .s1 { color: #BA2121 } /* Literal.String.Single */
            .sourcetable .ss { color: #19177C } /* Literal.String.Symbol */
            .sourcetable .bp { color: #008000 } /* Name.Builtin.Pseudo */
            .sourcetable .vc { color: #19177C } /* Name.Variable.Class */
            .sourcetable .vg { color: #19177C } /* Name.Variable.Global */
            .sourcetable .vi { color: #19177C } /* Name.Variable.Instance */
            .sourcetable .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>
</head>
<body>
<section>
<article>
<h1>Getting the canvas context</h1>
<p>To work with the canvas we have to get a drawing context from the element by getting a reference to the element, then calling its `getContext` method.</p>
<p>Note, if you're working with jQuery, you need to get at the raw DOM element, not the jQuery object to get at the context.</p>
<p>Also notice that I'm setting the width and height on the canvas element here instead of in css. If you set the dimensions in css, you'll get some surprising results.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="source"><pre><span class="c1">// javascript</span>
                <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-1'</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
                
                <span class="c1">// jQuery</span>
                <span class="c1">// var canvas = $('#canvas-1');</span>
                <span class="c1">// var ctx = canvas.get(0).getContext('2d');</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-1" width="300"></canvas>
<script for="canvas-1">
                // javascript
                var canvas = document.getElementById('canvas-1');
                var ctx = canvas.getContext('2d');
                
                // jQuery
                // var canvas = $('#canvas-1');
                // var ctx = canvas.get(0).getContext('2d');
            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Rectangles</h1>
<p>The context object has a number of methods that allow you to draw on it.</p>
<p>`fillRect` draws a solid rectangle, while `strokeRect` allows you to draw a rectangle outline.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-2'</span><span class="p">);</span>
                <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
                <span class="c1">// x coord, y coord, width, height</span>
                <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
                <span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-2" width="300"></canvas>
<script for="canvas-2">
                var canvas = document.getElementById('canvas-2');
                var ctx = canvas.getContext('2d');
                // x coord, y coord, width, height
                ctx.fillRect(50, 50, 50, 50);
                ctx.strokeRect(200, 50, 50, 50);
            </script>
</figure>
</section>
<section>
<article>
<h1>Erasing a Rectangle</h1>
<p>`clearRect` removes any drawn pixels in a rectangular area.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-3'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
<span class="c1">// x coord, y coord, width, height</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-3" width="300"></canvas>
<script for="canvas-3">
var canvas = document.getElementById('canvas-3');
var ctx = canvas.getContext('2d');
// x coord, y coord, width, height
ctx.fillRect(100, 50, 100, 100);
ctx.clearRect(100, 75, 50, 50);
            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing solid shapes</h1>
<p>Using `beginPath`, `moveTo` and `lineTo` we can draw arbitrary shapes.</p>
<p>Calling `fill` after creating a path fills the interior.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-4'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

<span class="c1">// x coord, y coord</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-4" width="300"></canvas>
<script for="canvas-4">
var canvas = document.getElementById('canvas-4');
var ctx = canvas.getContext('2d');
ctx.beginPath();

// x coord, y coord
ctx.moveTo(50, 50);

ctx.lineTo(100, 100);
ctx.lineTo(75, 150);
ctx.lineTo(50, 50);

ctx.fill();
            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing hollow shapes</h1>
<p>Likewise calling `stroke` after creating a path fills the interior.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-5'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-5" width="300"></canvas>
<script for="canvas-5">
var canvas = document.getElementById('canvas-5');
var ctx = canvas.getContext('2d');

ctx.beginPath();

ctx.moveTo(50, 50);

ctx.lineTo(100, 100);
ctx.lineTo(75, 150);
ctx.lineTo(50, 50);

ctx.stroke();
            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Lines</h1>
<p>If we only use `lineTo` once, we can draw simple lines.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-6'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">14</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-6" width="300"></canvas>
<script for="canvas-6">
var canvas = document.getElementById('canvas-6');
var ctx = canvas.getContext('2d');

for (var i = 1; i < 14; i++) {

    ctx.beginPath();
    ctx.moveTo(i * 20, 50);

    ctx.lineTo(i * 20, 100);

    ctx.stroke();

}

            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Arcs</h1>
<p>Using the `arc` method we can draw sections of circles.</p>
<p>The angles are in Radians, not degrees. 2PI radians = 360 degrees.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-7'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="c1">// center x, center y, radius, start angle, end angle</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-7" width="300"></canvas>
<script for="canvas-7">

var canvas = document.getElementById('canvas-7');
var ctx = canvas.getContext('2d');

ctx.beginPath();
// center x, center y, radius, start angle, end angle
ctx.arc(150, 100, 50, 0, Math.PI);
ctx.stroke();

            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Circles with Arcs</h1>
<p>To Draw a circle, we just specify the full 2PI radians for our end angle angle.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-8'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-8" width="300"></canvas>
<script for="canvas-8">

    var canvas = document.getElementById('canvas-8');
    var ctx = canvas.getContext('2d');

    ctx.beginPath();
    ctx.arc(50, 100, 30, 0, Math.PI * 2);
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(250, 100, 30, 0, Math.PI * 2);
    ctx.fill();

            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Curves</h1>
<p>Curves can be defined with two 'control' points and start and end points.</p>
<p>Control points are just like the little controls you use in photoshop or illustrator. But here, you have to set them with numbers in stead of dragging them around.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-9'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">bezierCurveTo</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">bezierCurveTo</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-9" width="300"></canvas>
<script for="canvas-9">

var canvas = document.getElementById('canvas-9');
var ctx = canvas.getContext('2d');

ctx.beginPath();
ctx.moveTo(50, 100);

ctx.bezierCurveTo(60, 90, 70, 100, 100, 150);
ctx.bezierCurveTo(90, 120, 110, 120, 200, 150);
ctx.stroke();

            </script>
</figure>
</section>
<section>
<article>
<h1>Encapsulating complex shapes with functions</h1>
<p>There is no built in way to draw to draw a rounded rectangle.</p>
<p>The code to create one gets complex quickly. And because each part is dependent on the others, it's hard to change.</p>
<p>By creating a function, we can write the code once and reuse it.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-10'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="c1">// first lets draw a rounded rectangle the old procedural way.</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">95</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">120</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>

<span class="c1">// Now let's make a function to encapsulate the logic</span>

<span class="kd">var</span> <span class="nx">roundedRect</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">radius</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">radius</span><span class="p">),</span> <span class="nx">y</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">radius</span><span class="p">),</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">y</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">radius</span><span class="p">));</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="p">(</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">radius</span><span class="p">),</span> <span class="nx">y</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">radius</span><span class="p">),</span> <span class="nx">radius</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">height</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">y</span> <span class="o">+</span> <span class="p">(</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">radius</span><span class="p">),</span> <span class="nx">radius</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">roundedRect</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="nx">roundedRect</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-10" width="300"></canvas>
<script for="canvas-10">

var canvas = document.getElementById('canvas-10');
var ctx = canvas.getContext('2d');

// first lets draw a rounded rectangle the old procedural way.

ctx.beginPath();
ctx.arc(30, 30, 20, Math.PI, Math.PI + (Math.PI / 2));
ctx.moveTo(30, 10);
ctx.lineTo(75, 10);
ctx.arc(75, 30, 20, Math.PI + (Math.PI / 2), 0);
ctx.lineTo(95, 100);
ctx.arc(75, 100, 20, 0, Math.PI / 2);
ctx.lineTo(30, 120);
ctx.arc(30, 100, 20, Math.PI / 2, Math.PI);
ctx.lineTo(10, 30);
ctx.fill();

// Now let's make a function to encapsulate the logic

var roundedRect = function(ctx, x, y, width, height, radius) {
    ctx.beginPath();
    ctx.arc(x + radius, y + radius, radius, Math.PI, Math.PI + (Math.PI / 2));
    ctx.lineTo(x + (width - radius), y);
    ctx.arc(x + (width - radius), y + radius, radius, Math.PI + (Math.PI / 2), 0);
    ctx.lineTo(x + width, y + (height - radius));
    ctx.arc(x + (width - radius), y + (height - radius), radius, 0, Math.PI / 2);
    ctx.lineTo(x + radius, y + height);
    ctx.arc(x + radius, y + (height - radius), radius, Math.PI / 2, Math.PI);
    ctx.fill();
};

roundedRect(ctx, 100, 20, 70, 90, 20);
roundedRect(ctx, 200, 30, 40, 90, 10);

            </script>
</figure>
</section>
<section>
<article>
<h1>Color</h1>
<p></p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="source"><pre><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-12'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"orange"</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"red"</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s2">"orange"</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">48</span><span class="p">);</span>

<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">48</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">48</span><span class="p">);</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-12" width="300"></canvas>
<script for="canvas-12">

var canvas = document.getElementById('canvas-12');
var ctx = canvas.getContext('2d');

ctx.fillStyle = "orange";
ctx.fillRect(50, 50, 50, 50);

ctx.fillStyle = "red";
ctx.fillRect(100, 50, 50, 50);

ctx.strokeStyle = "orange";
ctx.strokeRect(151, 51, 48, 48);

ctx.fillRect(200, 51, 48, 48);
ctx.lineWidth = 4
ctx.strokeRect(200, 51, 48, 48);

            </script>
</figure>
</section>
<section>
<article>
<h1>Simple Animation</h1>
<p>Animating has 3 basic steps. First, clear whatever is on the screen. Second, draw a new picture. Third, update all the variables that control your position.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-13'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">y</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">speed</span> <span class="o">=</span> <span class="p">.</span><span class="mi">4</span><span class="p">,</span>
        <span class="nx">radius</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
        <span class="nx">ctxWidth</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
        <span class="nx">ctxHeight</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
    <span class="p">};</span>

    <span class="kd">var</span> <span class="nx">step</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">webkitRequestAnimationFrame</span><span class="p">(</span><span class="nx">step</span><span class="p">);</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">ctxWidth</span><span class="p">,</span> <span class="nx">ctxHeight</span><span class="p">);</span>

        <span class="nx">circle</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">);</span>

        <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">speed</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">ctxWidth</span> <span class="o">+</span> <span class="nx">radius</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">speed</span> <span class="o">=</span> <span class="p">.</span><span class="mi">4</span><span class="p">;</span>
        <span class="p">}</span>

    <span class="p">};</span>

    <span class="nx">webkitRequestAnimationFrame</span><span class="p">(</span><span class="nx">step</span><span class="p">);</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-13" width="300"></canvas>
<script for="canvas-13">

(function() {
    var canvas = document.getElementById('canvas-13');
    var ctx = canvas.getContext('2d');

    var x = 0,
        y = 100,
        speed = .4,
        radius = 30,
        ctxWidth = 300,
        ctxHeight = 200;

    var circle = function(ctx, x, y, radius) {
        ctx.beginPath();
        ctx.arc(x, y, radius, 0, Math.PI * 2);
        ctx.stroke();
    };

    var step = function(timestamp) {
        webkitRequestAnimationFrame(step);

        ctx.clearRect(0, 0, ctxWidth, ctxHeight);

        circle(ctx, x, y, radius);

        x = x + speed;

        if (x > ctxWidth + radius) {
            x = 0;
            speed = .4;
        }

    };

    webkitRequestAnimationFrame(step);
})()


            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Text</h1>
<p>Simple text is easy.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-15'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="s1">'Hello, Class'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-15" width="300"></canvas>
<script for="canvas-15">

(function() {
    var canvas = document.getElementById('canvas-15');
    var ctx = canvas.getContext('2d');
    ctx.fillText('Hello, Class', 10, 10);
})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Styled Text</h1>
<p>Canvas provides more options</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-16'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s1">'green'</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="s1">'bold 24px Arial'</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="s1">'Hello, Class'</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-16" width="300"></canvas>
<script for="canvas-16">

(function() {
    var canvas = document.getElementById('canvas-16');
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = 'green';
    ctx.font = 'bold 24px Arial';
    ctx.fillText('Hello, Class', 10, 40);
})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Working with Images</h1>
<p>Putting an Image in the Canvas is easy.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-14'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">img</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">"https://www.google.com/images/srpr/logo11w.png"</span><span class="p">;</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-14" width="300"></canvas>
<script for="canvas-14">

(function() {
    var img = new Image();
    var canvas = document.getElementById('canvas-14');
    var ctx = canvas.getContext('2d');
    img.onload = function() {
        ctx.drawImage(img, 10, 10);
    };
    img.src = "https://www.google.com/images/srpr/logo11w.png";
})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Reading Pixels</h1>
<p>You can use getImageData to find out what color a certain pixel is. The result of this method is an object that has a few properties: the height and width of the section you have sampled, along with a data property that is an array where the values are red, green, blue and the alpha channel.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-17'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"green"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"red"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="s1">'18px Arial'</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

    <span class="nx">canvas</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'mousemove'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">pixelData</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">getImageData</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetX</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offsetY</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"black"</span><span class="p">;</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="s1">'The color at '</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offsetX</span> <span class="o">+</span> <span class="s2">", "</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">offsetY</span> <span class="o">+</span> <span class="s2">" is "</span> <span class="o">+</span> <span class="nx">pixelData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">","</span> <span class="o">+</span> <span class="nx">pixelData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">","</span> <span class="o">+</span> <span class="nx">pixelData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-17" width="300"></canvas>
<script for="canvas-17">

(function() {
    var canvas = document.getElementById('canvas-17');
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = "green";
    ctx.fillRect(50, 50, 50, 50);
    ctx.fillStyle = "red";
    ctx.font = '18px Arial';
    ctx.fillRect(100, 70, 50, 50);

    canvas.addEventListener('mousemove', function(e) {
        pixelData = ctx.getImageData(e.offsetX, e.offsetY, 1, 1);
        ctx.clearRect(0,0, canvas.width, 30);
        ctx.fillStyle = "black";
        ctx.fillText('The color at ' + e.offsetX + ", " + e.offsetY + " is " + pixelData.data[0] + "," + pixelData.data[1] + "," + pixelData.data[2], 10, 20);
    });
})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Translating</h1>
<p>Translations allow you to change the underlying geometry of the canvas.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-18'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"blue"</span><span class="p">;</span>

    <span class="c1">// x, y, width, height!</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"bisque"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-18" width="300"></canvas>
<script for="canvas-18">

(function() {

    var canvas = document.getElementById('canvas-18');
    var ctx = canvas.getContext('2d');
    ctx.translate(50, 50);
    ctx.fillStyle = "blue";

    // x, y, width, height!
    ctx.fillRect(0,0, 100, 100);
    ctx.fillStyle = "bisque";
    ctx.fillRect(50, 50, 100, 100);

})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Rotation</h1>
<p>Rotation let you rotate the entire canvas geometry.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-19'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">8</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#666"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-19" width="300"></canvas>
<script for="canvas-19">

(function() {

    var canvas = document.getElementById('canvas-19');
    var ctx = canvas.getContext('2d');
    ctx.rotate(Math.PI / 8);
    ctx.fillStyle = "#666";
    ctx.fillRect(100, 0, 50, 50);

})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Scaling</h1>
<p>Scaling lets you change the size of the canvas geometry.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-20'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#666"</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">currentScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">scaleDelta</span> <span class="o">=</span> <span class="p">.</span><span class="mi">03</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">scale</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">webkitRequestAnimationFrame</span><span class="p">(</span><span class="nx">scale</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">currentScale</span><span class="p">,</span> <span class="nx">currentScale</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>

        <span class="nx">currentScale</span> <span class="o">+=</span> <span class="nx">scaleDelta</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">currentScale</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">||</span> <span class="nx">currentScale</span> <span class="o">&lt;=</span> <span class="p">.</span><span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">scaleDelta</span> <span class="o">=</span> <span class="nx">scaleDelta</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">webkitRequestAnimationFrame</span><span class="p">(</span><span class="nx">scale</span><span class="p">);</span>

<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="200" id="canvas-20" width="300"></canvas>
<script for="canvas-20">

(function() {

    var canvas = document.getElementById('canvas-20');
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = "#666";

    var currentScale = 1;
    var scaleDelta = .03;

    var scale = function() {
        webkitRequestAnimationFrame(scale);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.save();
        ctx.scale(currentScale, currentScale);
        ctx.fillRect(100, 100, 50, 50);
        ctx.restore();

        currentScale += scaleDelta;

        if (currentScale > 2 || currentScale <= .5) {
            scaleDelta = scaleDelta * -1;
        }
    }

    webkitRequestAnimationFrame(scale);

})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Transformations</h1>
<p>Scaling, rotating and translating are called transformations. They add together, so be careful. The order you do them in is important.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-21'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#666"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="210" id="canvas-21" width="300"></canvas>
<script for="canvas-21">

(function() {

    var canvas = document.getElementById('canvas-21');
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = "#666";
    ctx.fillRect(20, 20, 10, 10);
    ctx.scale(3,3);
    ctx.translate(20, 20);
    ctx.fillRect(1,1, 10, 10);
})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Save and Restore</h1>
<p>Remember the canvas is like a machine with lots of little knobs and switches and settings. As you set things, they continue to effect the drawing until you set them again. For instance, once you set the fillStyle, all filled drawings will be that color until you change it. Save and restore give you a way to take the entire state at a given time store it on a stack, then restore that entire state when you're done doing something. It works for transformations as well as styles.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-22'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#666"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s2">"#f00"</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>

    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="220" id="canvas-22" width="300"></canvas>
<script for="canvas-22">

(function() {

    var canvas = document.getElementById('canvas-22');
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = "#666";
    ctx.fillRect(20, 20, 30, 30);

    ctx.save();
    ctx.fillStyle = "#f00";
    ctx.fillRect(50, 20, 30, 30);
    ctx.restore();

    ctx.fillRect(80, 20, 30, 30);
})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Drawing Polygons</h1>
<p>You can use the Math.sin and Math.cos functions to determine x and y coords for points around a center of a polygon.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">TWO_PI</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">Polygon</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sides</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">fill</span><span class="p">,</span> <span class="nx">stroke</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">sides</span> <span class="o">=</span> <span class="nx">sides</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span> <span class="o">=</span> <span class="nx">fill</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">stroke</span> <span class="o">=</span> <span class="nx">stroke</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">=</span> <span class="nx">radius</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">step</span> <span class="o">=</span> <span class="nx">TWO_PI</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="nx">sides</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="nx">Polygon</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">draw</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">;</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">;</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sides</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">step</span> <span class="o">*</span> <span class="nx">i</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">step</span> <span class="o">*</span> <span class="nx">i</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-23'</span><span class="p">),</span>
        <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">),</span>
        <span class="nx">hexagon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Polygon</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">'#99B2B7'</span><span class="p">);</span>
        <span class="nx">octogon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Polygon</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">'#D9CEB2'</span><span class="p">);</span>

    <span class="nx">hexagon</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">ctx</span><span class="p">);</span>
    <span class="nx">octogon</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">ctx</span><span class="p">);</span>

<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="220" id="canvas-23" width="300"></canvas>
<script for="canvas-23">

(function() {
    var TWO_PI = Math.PI * 2;

    var Polygon = function(sides, x, y, radius, fill, stroke) {
        this.sides = sides;
        this.x = x;
        this.y = y;
        this.fill = fill;
        this.stroke = stroke;
        this.radius = radius;
        this.step = TWO_PI / this.sides;
    };

    Polygon.prototype.draw = function(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);

        ctx.fillStyle = this.fill;
        ctx.strokeStyle = this.stroke;

        ctx.beginPath();

        for (var i = 0; i <= this.sides; i++) {
            ctx.lineTo(this.radius * Math.cos(this.step * i), this.radius * Math.sin(this.step * i));
        }

        if (this.fill) {
            ctx.fill();
        }

        if (this.stroke) {
            ctx.stroke();
        }

        ctx.restore();
    }

    var canvas = document.getElementById('canvas-23'),
        ctx = canvas.getContext('2d'),
        hexagon = new Polygon(6, 100, 50, 50, '#99B2B7');
        octogon = new Polygon(8, 150, 120, 30, '#D9CEB2');

    hexagon.draw(ctx);
    octogon.draw(ctx);

})()

            </script>
</figure>
</section>
<section>
<article>
<h1>Extending the Polygons</h1>
<p>Extend the polygon however, you see fit. For instance, if you want to rotate them, add a rotation property and change the draw method to use it.</p>
<div class="code-block"><table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></div></td><td class="code"><div class="source"><pre><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">TWO_PI</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">Polygon</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sides</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">radius</span><span class="p">,</span> <span class="nx">fill</span><span class="p">,</span> <span class="nx">stroke</span><span class="p">,</span> <span class="nx">rotationSpeed</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">sides</span> <span class="o">=</span> <span class="nx">sides</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fill</span> <span class="o">=</span> <span class="nx">fill</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">stroke</span> <span class="o">=</span> <span class="nx">stroke</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">=</span> <span class="nx">radius</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">step</span> <span class="o">=</span> <span class="nx">TWO_PI</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="nx">sides</span><span class="p">;</span>
        <span class="c1">// New</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rotation</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rotationSpeed</span> <span class="o">=</span> <span class="nx">rotationSpeed</span> <span class="o">||</span> <span class="p">.</span><span class="mi">05</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="nx">Polygon</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">draw</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">/</span> <span class="mi">2</span><span class="p">));</span>
        <span class="c1">// New</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rotation</span><span class="p">);</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">;</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">;</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sides</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ctx</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">step</span> <span class="o">*</span> <span class="nx">i</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">radius</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">step</span> <span class="o">*</span> <span class="nx">i</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stroke</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ctx</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>

        <span class="c1">// New</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">Polygon</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">rotation</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rotation</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">rotationSpeed</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'canvas-24'</span><span class="p">),</span>
        <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">'2d'</span><span class="p">),</span>
        <span class="nx">hexagon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Polygon</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">'#99B2B7'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">.</span><span class="mi">01</span><span class="p">);</span>
        <span class="nx">octogon</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Polygon</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">'#D9CEB2'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">.</span><span class="mi">1</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">drawPolys</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">i</span>
        <span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
        <span class="nx">webkitRequestAnimationFrame</span><span class="p">(</span><span class="nx">drawPolys</span><span class="p">);</span>
        <span class="nx">hexagon</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">ctx</span><span class="p">);</span>
        <span class="nx">octogon</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="nx">ctx</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">webkitRequestAnimationFrame</span><span class="p">(</span><span class="nx">drawPolys</span><span class="p">);</span>

<span class="p">})()</span>
</pre></div>
</td></tr></table></div></article>
<figure>
<canvas height="220" id="canvas-24" width="300"></canvas>
<script for="canvas-24">

(function() {
    var TWO_PI = Math.PI * 2;

    var Polygon = function(sides, x, y, radius, fill, stroke, rotationSpeed) {
        this.sides = sides;
        this.x = x;
        this.y = y;
        this.fill = fill;
        this.stroke = stroke;
        this.radius = radius;
        this.step = TWO_PI / this.sides;
        // New
        this.rotation = 0;
        this.rotationSpeed = rotationSpeed || .05;
    };

    Polygon.prototype.draw = function(ctx) {
        ctx.save();

        ctx.translate(this.x + (this.radius / 2), this.y + (this.radius / 2));
        // New
        ctx.rotate(this.rotation);

        ctx.fillStyle = this.fill;
        ctx.strokeStyle = this.stroke;

        ctx.beginPath();

        for (var i = 0; i <= this.sides; i++) {
            ctx.lineTo(this.radius * Math.cos(this.step * i), this.radius * Math.sin(this.step * i));
        }

        if (this.fill) {
            ctx.fill();
        }

        if (this.stroke) {
            ctx.stroke();
        }

        ctx.restore();

        // New
        this.update();
    }

    Polygon.prototype.update = function(ctx) {
        this.rotation = this.rotation + this.rotationSpeed;
    }

    var canvas = document.getElementById('canvas-24'),
        ctx = canvas.getContext('2d'),
        hexagon = new Polygon(6, 100, 50, 50, '#99B2B7', null, .01);
        octogon = new Polygon(8, 150, 120, 30, '#D9CEB2', null, .1);

    var drawPolys = function() {i
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        webkitRequestAnimationFrame(drawPolys);
        hexagon.draw(ctx);
        octogon.draw(ctx);
    }

    webkitRequestAnimationFrame(drawPolys);

})()

            </script>
</figure>
</section>
<script>
        var sections = document.querySelectorAll('section');
        for (var i = 0; i < sections.length; i++) {
            var section = sections[i];
            section.addEventListener('click', function() { 
                if (this.classList.contains('hide-canvas')) {
                    this.classList.remove('hide-canvas');
                } else {
                    this.classList.add('hide-canvas');
                }
            });
        }
    </script>
</body>
</html>

