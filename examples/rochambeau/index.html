<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock, Paper, Scissor</title>
</head>
<body>

    <form id="player-choice">

    <select id="player-select">
        <option value="rock">Rock</option>
        <option value="paper">Paper</option>
        <option value="scissor">Scissor</option>
    </select>

    <input type="submit" />

    </form>

    <script>

        (function(){

            var getOpponentValue = function() {
                var choices = ['rock', 'paper', 'scissor'];
                var choice = Math.round(Math.random() * 2)
                return choices[choice];
            }

            var playerWins = function(playerC, oppC) {
                if (playerC === 'rock' && oppC === 'scissor') {
                    return true;
                } else if (playerC === 'rock' && oppC === 'paper') {
                    return false;
                } else if (playerC === 'rock' && oppC === 'rock') {
                    return 'TIE';
                } else if (playerC === 'paper' && oppC === 'rock') {
                    return true;
                } else if (playerC === 'paper' && oppC === 'scissor') {
                    return false
                } else if (playerC === 'paper' && oppC === 'paper') {
                    return 'TIE'
                } else if (playerC === 'scissor' && oppC === 'rock') {
                    return false;
                } else if (playerC === 'scissor' && oppC === 'scissor') {
                    return 'TIE'
                } else if (playerC === 'scissor' && oppC === 'paper') {
                    return true;
                }
            }

            var changeHandler = function (e) {
                e.preventDefault();

                var playerSelect = document.getElementById('player-select');
                var playerValue = playerSelect.value;

                var opponentValue = getOpponentValue();

                var playerWon = playerWins(playerValue, opponentValue);

                if (playerWon === 'TIE') {
                    alert('You Tied');
                } else if (playerWon) {
                    alert('Congrats You Won opponent chose ' + opponentValue);
                } else {
                    alert('Sorry');
                }

            };

            var playerChoice = document.getElementById('player-choice');
            playerChoice.addEventListener('submit', changeHandler);

            console.log('started');

        })()







    </script>

</body>
</html>
